@use "@/styles/breakpoints" as *;

.wrap {
  width: 100%;
  margin-inline: auto;
}

.header {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding-bottom: 1rem;
  gap: 1.5rem;
  margin-bottom: 0.75rem;
}

.title {
  font-size: clamp(1.25rem, 5vw, 2rem);
  text-transform: uppercase;
  margin: 0;
  font-weight: 700;
  color: var(--foreground);
  width: fit-content;
  text-align: center;
  position: relative;
  &.hasSubtitle::after {
    content: "";
    position: absolute;
    bottom: -0.75rem;
    left: 50%;               
    transform: translateX(-50%); 
    width: 30%;
    height: 3px;
    background-color: var(--primary);
    border-radius: 2px;
  }
}

.subtitle {
  margin: 0;
  color: var(--subtle);
}

.swiper {
  padding:0 1px;
  // Pre-size slides to reduce CLS
  :global(.swiper-slide) {
    flex-shrink: 0;
    // Mobile: 1.2 slides, 12px gap
    width: calc((100% - 0.2 * 12px) / 1.2);
    
    @media (min-width: 480px) {
      // 2.1 slides, 12px gap
      width: calc((100% - 1.1 * 12px) / 2.1);
    }
    
    @media (min-width: 640px) {
      // 3 slides, 14px gap
      width: calc((100% - 2 * 14px) / 3);
    }
    
    @media (min-width: 900px) {
      // 4 slides, 16px gap
      width: calc((100% - 3 * 16px) / 4);
    }
    
    @media (min-width: 1200px) {
      // 5 slides, 18px gap
      width: calc((100% - 4 * 18px) / 5);
    }
  }
}

/* Swiper overrides */
.swiper :global(.swiper-button-prev),
.swiper :global(.swiper-button-next) {
  color: var(--foreground);
  @include max(md) {
    display: none;
  }
}

.swiper :global(.swiper-button-disabled) {
  display: none;
}

.swiper :global(.swiper-pagination-bullet) {
  background: color-mix(in oklab, var(--foreground), transparent 40%);
  opacity: 1;
}

.swiper :global(.swiper-pagination-bullet-active) {
  background: var(--foreground);
}

.slide {
  height: auto; /* let card define its height */
}

.viewAll {
  display: block;
  text-align: center;
  margin-top: 2rem;
  font-weight: 600;
  color: var(--primary);
}

.viewAllSlide {
  display: flex;
  align-items: stretch;
}

.viewAllCard {
  display: grid;
  place-items: center;
  gap: 0.35rem;
  width: 100%;
  min-height: 100%;
  border: 1px solid var(--border);
  border-radius: 12px;
  text-align: center;
  background: color-mix(in oklab, var(--accent), transparent 40%);
  color: var(--foreground);
  text-decoration: none;
  transition:
    transform 0.15s ease,
    background 0.15s ease,
    border-color 0.15s ease;

  &:hover {
    background: color-mix(in oklab, var(--accent), transparent 25%);
    border-color: var(--primary);
  }
}

.viewAllTitle {
  font-weight: 700;
  font-size: 1.05rem;
}

.viewAllHint {
  font-size: 0.9rem;
  color: var(--subtle);
}
